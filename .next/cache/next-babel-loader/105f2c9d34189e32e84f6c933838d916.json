{"ast":null,"code":"var __jsx = React.createElement;\n// (c) Harvey Randall - 2020-2021 \n// GCSE exam algorithm for EPQ\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Slider from '@material-ui/core/Slider';\nimport styles from \"../styles/form.module.css\";\nimport { Sliders } from '../components/slider';\nimport Alert from '@material-ui/lab/Alert';\n\nfunction HomePage() {\n  let {\n    0: testHook,\n    1: setTestHook\n  } = useState(undefined); //Hooks \n\n  let {\n    0: LastMockresult,\n    1: setLastMockresult\n  } = useState(1);\n  let {\n    0: TargetGrade,\n    1: setTargetGrade\n  } = useState(1);\n  let {\n    0: PredictedGrade,\n    1: setPredictedGrade\n  } = useState(1);\n  let {\n    0: AttitudeToLearing,\n    1: setAttitudeToLearing\n  } = useState(1); //Return Hook\n\n  let {\n    0: result,\n    1: setResult\n  } = useState(undefined);\n  useEffect(() => {\n    (async () => {\n      try {\n        let data = await axios.get(window.origin + '/api/test');\n        setTestHook(data.data);\n      } catch (e) {\n        setTestHook(e);\n      }\n    })();\n  }, []);\n\n  let sendToServer = async e => {\n    e.preventDefault();\n    setResult(\"LOADING...\");\n    let data = await axios.post(window.origin + '/api/inputTest', {\n      LastMockresult,\n      TargetGrade,\n      PredictedGrade,\n      AttitudeToLearing\n    });\n    console.log({\n      LastMockresult,\n      TargetGrade,\n      PredictedGrade,\n      AttitudeToLearing\n    });\n    console.log(data.data.AchievedGrade);\n    setResult(data.data.AchievedGrade);\n  };\n\n  return __jsx(\"div\", {\n    className: styles.main\n  }, __jsx(\"div\", null, \"Welcome to the front end!!\"), __jsx(\"h3\", {\n    className: styles.ResultBox\n  }, testHook ? \"Server is fully loaded and functional!\" : \"Loading...\"), __jsx(\"h1\", {\n    className: styles.ResultBox\n  }, result ? `I would award this student a grade ${Math.floor(result * 9)} with a confidence of ${(result - Math.floor(result * 9) / 9) * 2000}%` : \"\", \" \"), __jsx(Alert, {\n    className: styles.Form + ' ' + styles.center,\n    severity: \"warning\"\n  }, \"This students grade is 2 above there last mock result, you need to verify this grade\"), __jsx(\"div\", {\n    className: styles.Form\n  }, __jsx(Sliders, {\n    max: 9,\n    title: \"Last Mock result\",\n    onChange: (e, val) => setLastMockresult(val / 9)\n  }), __jsx(Sliders, {\n    max: 9,\n    title: \"Target Grade\",\n    onChange: (e, val) => setTargetGrade(val / 9)\n  }), __jsx(Sliders, {\n    max: 9,\n    title: \"Predicted Grade\",\n    onChange: (e, val) => setPredictedGrade(val / 9)\n  }), __jsx(Sliders, {\n    max: 4,\n    title: \"Attidue to Learning\",\n    onChange: (e, val) => setAttitudeToLearing(val / 4)\n  }), __jsx(\"button\", {\n    onClick: sendToServer,\n    className: styles.button\n  }, \"Send to Server\")));\n}\n\nexport default HomePage;","map":null,"metadata":{},"sourceType":"module"}